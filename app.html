<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="appTitle">Control de Gastos</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header class="app-header">
            <h1 data-translate="appTitle">Control de Gastos</h1>
            <div class="user-info">
                <button id="btn-cambio-tema" class="btn-tema" title="Cambiar tema">
                    <span class="icono-tema">游깿</span>
                </button>
                <span id="nombre-usuario">Usuario</span>
                <button id="btn-cerrar-sesion" data-translate="logoutBtn">Cerrar Sesi칩n</button>
            </div>
        </header>
        
        <nav class="menu-principal">
            <a href="app.html" class="activo" data-translate="homeLink">Inicio</a>
            <a href="config.html" data-translate="configLink">Configuraci칩n</a>
        </nav>
        
        <!-- Formulario para ingresar sueldo -->
        <section class="seccion-sueldo">
            <h2 data-translate="salaryTitle">Sueldo</h2>
            <form id="form-sueldo">
                <div class="input-group">
                    <label for="sueldo" data-translate="salaryLabel">Ingrese su sueldo:</label>
                    <input type="number" id="sueldo" placeholder="Ingresa tu sueldo" step="0.01" required>
                </div>
                <div class="input-group">
                    <label for="moneda" data-translate="currencyLabel">Moneda:</label>
                    <select id="moneda" required>
                        <option value="USD">USD - D칩lar Estadounidense</option>
                        <option value="EUR">EUR - Euro</option>
                        <option value="MXN">MXN - Peso Mexicano</option>
                        <option value="COP">COP - Peso Colombiano</option>
                        <option value="ARS">ARS - Peso Argentino</option>
                        <option value="CLP">CLP - Peso Chileno</option>
                        <option value="PEN">PEN - Sol Peruano</option>
                        <option value="BRL">BRL - Real Brasile침o</option>
                        <option value="UYU">UYU - Peso Uruguayo</option>
                        <option value="VES">VES - Bol칤var Venezolano</option>
                    </select>
                </div>
                <div class="fecha-cobro">
                    <label for="dia-cobro" data-translate="paymentDayLabel">D칤a de cobro mensual:</label>
                    <input type="number" id="dia-cobro" min="1" max="31" placeholder="D칤a del mes" required>
                </div>
                <button type="submit" data-translate="saveBtn">Actualizar Sueldo</button>
            </form>
            <div id="sueldo-restante">
                <h2 data-translate="remainingSalary">Sueldo Restante: $0.00</h2>
            </div>
        </section>

        <!-- Contenedor de columnas para gastos fijos y diarios -->
        <div class="columnas-container">
            <!-- Columna de Gastos Fijos -->
            <div class="columna">
                <h2 data-translate="fixedExpensesTitle">Gastos Fijos</h2>
                <form id="form-gasto-fijo">
                    <div class="input-group">
                        <label for="categoria-gasto-fijo" data-translate="expenseCategoryLabel">Categor칤a:</label>
                        <select id="categoria-gasto-fijo" required>
                            <option value="" data-translate="selectCategory">Seleccione una categor칤a</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="subcategoria-gasto-fijo" data-translate="expenseSubcategoryLabel">Subcategor칤a:</label>
                        <select id="subcategoria-gasto-fijo" required>
                            <option value="" data-translate="selectSubcategory">Seleccione una subcategor칤a</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="descripcion-fijo" data-translate="descriptionLabel">Descripci칩n (opcional):</label>
                        <input type="text" id="descripcion-fijo" placeholder="(Opcional)">
                    </div>
                    <div class="input-group">
                        <label for="monto-fijo" data-translate="amountLabel">Monto:</label>
                        <input type="number" id="monto-fijo" placeholder="Monto" step="0.01" required>
                    </div>
                    <div class="input-group">
                        <label for="fecha-fijo" data-translate="dateLabel">Fecha:</label>
                        <input type="date" id="fecha-fijo" required>
                    </div>
                    <button type="submit" data-translate="addBtn">Agregar Gasto Fijo</button>
                </form>
                <ul id="lista-gastos-fijos"></ul>
            </div>

            <!-- Columna de Gastos Diarios -->
            <div class="columna">
                <h2 data-translate="dailyExpensesTitle">Gastos Diarios</h2>
                <form id="form-gasto-diario">
                    <div class="input-group">
                        <label for="categoria-gasto-diario" data-translate="expenseCategoryLabel">Categor칤a:</label>
                        <select id="categoria-gasto-diario" required>
                            <option value="" data-translate="selectCategory">Seleccione una categor칤a</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="subcategoria-gasto-diario" data-translate="expenseSubcategoryLabel">Subcategor칤a:</label>
                        <select id="subcategoria-gasto-diario" required>
                            <option value="" data-translate="selectSubcategory">Seleccione una subcategor칤a</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="descripcion-diario" data-translate="descriptionLabel">Descripci칩n (opcional):</label>
                        <input type="text" id="descripcion-diario" placeholder="(Opcional)">
                    </div>
                    <div class="input-group">
                        <label for="monto-diario" data-translate="amountLabel">Monto:</label>
                        <input type="number" id="monto-diario" placeholder="Monto" step="0.01" required>
                    </div>
                    <div class="input-group">
                        <label for="fecha-diario" data-translate="dateLabel">Fecha:</label>
                        <input type="date" id="fecha-diario" required>
                    </div>
                    <button type="submit" data-translate="addBtn">Agregar Gasto Diario</button>
                </form>
                <ul id="lista-gastos-diarios"></ul>
            </div>
        </div>

        <!-- Secci칩n de Estad칤sticas -->
        <section class="seccion-estadisticas">
            <button id="btn-ver-gastos" data-translate="viewStatisticsBtn">Ver Estad칤sticas</button>
            <div id="estadisticas" style="display: none;"></div>
        </section>

        <!-- Secci칩n de Gr치fico de Distribuci칩n -->
        <section class="seccion-grafico">
            <h2 data-translate="distributionTitle">Distribuci칩n de Gastos</h2>
            <div class="grafico-container">
                <canvas id="grafico-gastos"></canvas>
            </div>
        </section>

        <!-- Secci칩n de Historial de Gastos -->
        <section class="seccion-historial">
            <h2 data-translate="historyTitle">Historial de Gastos</h2>
            <div class="filtros-fecha">
                <div class="input-group">
                    <label for="fechaInicio" data-translate="startDateLabel">Fecha inicio:</label>
                    <input type="date" id="fechaInicio">
                </div>
                <div class="input-group">
                    <label for="fechaFin" data-translate="endDateLabel">Fecha fin:</label>
                    <input type="date" id="fechaFin">
                </div>
                <button id="btnFiltrar" data-translate="filterBtn">Filtrar</button>
                <button id="btnMostrarTodos" data-translate="showAllBtn">Mostrar Todos</button>
            </div>
            <div id="historialGastos" class="lista-historial"></div>
        </section>
    </div>

    <footer>
        <p>&copy; 2024 Control de Gastos. Todos los derechos reservados.</p>
    </footer>

    <!-- Scripts de la aplicaci칩n -->
    <script src="translations.js"></script>
    <script src="firebase-config.js"></script>
    <script src="auth.js"></script>
    <script src="theme.js"></script>
    <script src="script.js"></script>
    <script>
        // Cargar el idioma guardado al iniciar
        document.addEventListener('DOMContentLoaded', () => {
            const savedLanguage = localStorage.getItem('language') || 'es';
            changeLanguage(savedLanguage);
            
            // Mostrar el nombre de usuario
            const nombreUsuario = document.getElementById('nombre-usuario');
            if (nombreUsuario) {
                const usuarioActual = JSON.parse(localStorage.getItem('usuarioActual')) || {};
                nombreUsuario.textContent = usuarioActual.nombre || 'Usuario';
            }
        });
    </script>
</body>
</html> 